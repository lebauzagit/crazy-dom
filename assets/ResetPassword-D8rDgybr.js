import{d as g,u as P,r as l,a as n,b as s,f as w,k as f,v,j as a,t as i,m as _,h as x,o as u,n as h}from"./index-BEdaMpnO.js";import{r as k}from"./ExclamationTriangleIcon-BlEb5Ssm.js";import{r as N}from"./CheckCircleIcon-Bgu_D803.js";const R={class:"space-y-6"},U=["disabled"],V={key:0,class:"bg-red-50 border border-red-200 rounded-md p-4"},C={class:"flex"},E={class:"ml-3"},S={class:"mt-1 text-sm text-red-700"},B={key:1,class:"bg-green-50 border border-green-200 rounded-md p-4"},q={class:"flex"},D={class:"ml-3"},M={class:"mt-1 text-sm text-green-700"},$=g({__name:"ResetPassword",setup(T){const b=h(),m=P(),t=l({password:"",confirmPassword:""}),o=l(""),r=l(""),{loading:p}=m,y=async()=>{if(o.value="",r.value="",t.value.password!==t.value.confirmPassword){o.value="Passwords do not match";return}try{await m.resetPassword(t.value.password),r.value="Password updated successfully! Redirecting to login...",setTimeout(()=>{b.push("/login")},2e3)}catch(c){o.value=c.message||"Failed to update password"}};return(c,e)=>(u(),n("div",R,[e[6]||(e[6]=s("div",{class:"text-center"},[s("h2",{class:"text-2xl font-bold text-gray-900"},"Reset your password"),s("p",{class:"mt-2 text-sm text-gray-600"},"Enter your new password below.")],-1)),s("form",{onSubmit:_(y,["prevent"]),class:"space-y-4"},[s("div",null,[e[2]||(e[2]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," New Password ",-1)),f(s("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=d=>t.value.password=d),type:"password",required:"",class:"mt-1 input",placeholder:"Enter your new password"},null,512),[[v,t.value.password]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirm New Password ",-1)),f(s("input",{id:"confirmPassword","onUpdate:modelValue":e[1]||(e[1]=d=>t.value.confirmPassword=d),type:"password",required:"",class:"mt-1 input",placeholder:"Confirm your new password"},null,512),[[v,t.value.confirmPassword]])]),s("button",{type:"submit",disabled:a(p),class:"w-full btn btn-primary py-3 text-base font-medium"},i(a(p)?"Updating...":"Update password"),9,U)],32),o.value?(u(),n("div",V,[s("div",C,[x(a(k),{class:"h-5 w-5 text-red-400"}),s("div",E,[e[4]||(e[4]=s("h3",{class:"text-sm font-medium text-red-800"},"Error",-1)),s("p",S,i(o.value),1)])])])):w("",!0),r.value?(u(),n("div",B,[s("div",q,[x(a(N),{class:"h-5 w-5 text-green-400"}),s("div",D,[e[5]||(e[5]=s("h3",{class:"text-sm font-medium text-green-800"},"Password Updated",-1)),s("p",M,i(r.value),1)])])])):w("",!0)]))}});export{$ as default};
